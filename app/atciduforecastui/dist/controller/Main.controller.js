sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("atciduforecastui.controller.Main",{onInit:function(){this.setFilterMessage("Displaying Information of All Resources")},onRecordFilterChange:function(e){var t=e.getParameter("selectedItem").getKey();var i=this.getView().byId("resourceTable");var s=i.getBinding("items");var n;var r="";if(t==="All"){s.filter([]);r="Displaying Information of All Resources"}else if(t==="HittingDownTime"){this.onFilterChange();r="Displaying Information of Resources nearing Down Time"}else{if(t==="NotAssigned"){n=new sap.ui.model.Filter("assignmentStatus",sap.ui.model.FilterOperator.EQ,null);r="Displaying Information of Resources with Assignment status as Not Assigned"}else{n=new sap.ui.model.Filter("assignmentStatus",sap.ui.model.FilterOperator.EQ,t);r="Displaying Information of Resources with Assignment status as "+t}s.filter(n)}this.setFilterMessage(r)},onFilterChange:function(){var e=this.getView().byId("resourceTable");var t=e.getBinding("items");var i=new Date;var s=[];e.getItems().forEach(function(e){var t=e.getBindingContext();var n=t.getObject();var r=new Date(n.endDate);var a=r.getTime()-i.getTime();var o=Math.floor(a/(1e3*60*60*24));if(o<=15){s.push(new sap.ui.model.Filter("enterpriseID",sap.ui.model.FilterOperator.EQ,n.enterpriseID))}});t.filter(s)},setFilterMessage:function(e){var t=this.getView().byId("_IDGenMessageStrip1");if(t){t.setText(e)}}})});